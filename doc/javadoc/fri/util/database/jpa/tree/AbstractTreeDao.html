<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_20) on Sun Nov 24 16:18:25 CET 2013 -->
<TITLE>
AbstractTreeDao
</TITLE>

<META NAME="date" CONTENT="2013-11-24">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AbstractTreeDao";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AbstractTreeDao.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTemporalTreeTest.html" title="class in fri.util.database.jpa.tree"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeTest.html" title="class in fri.util.database.jpa.tree"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?fri/util/database/jpa/tree/AbstractTreeDao.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AbstractTreeDao.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
fri.util.database.jpa.tree</FONT>
<BR>
Class AbstractTreeDao&lt;N extends <A HREF="../../../../../fri/util/database/jpa/tree/TreeNode.html" title="interface in fri.util.database.jpa.tree">TreeNode</A>&gt;</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>fri.util.database.jpa.tree.AbstractTreeDao&lt;N&gt;</B>
</PRE>
<DL>
<DT><DT><B>Type Parameters:</B><DD><CODE>N</CODE> - the tree node type handled by this DAO.</DL>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html" title="interface in fri.util.database.jpa.tree">TreeDao</A>&lt;N&gt;</DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../../fri/util/database/jpa/tree/closuretable/ClosureTableTreeDao.html" title="class in fri.util.database.jpa.tree.closuretable">ClosureTableTreeDao</A>, <A HREF="../../../../../fri/util/database/jpa/tree/nestedsets/NestedSetsTreeDao.html" title="class in fri.util.database.jpa.tree.nestedsets">NestedSetsTreeDao</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>AbstractTreeDao&lt;N extends <A HREF="../../../../../fri/util/database/jpa/tree/TreeNode.html" title="interface in fri.util.database.jpa.tree">TreeNode</A>&gt;</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html" title="interface in fri.util.database.jpa.tree">TreeDao</A>&lt;N&gt;</DL>
</PRE>

<P>
Common functionalities for a TreeDao implementation.
 <p/>
 Mind that concurrency is not handled in any way.
 The caller is expected to provide a transaction around every DAO write-method.
 DAO write-methods execute more than one JPQL statement when called!
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Fritz Ritzberger, 27.10.2012</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="nested_classes_inherited_from_class_fri.util.database.jpa.tree.TreeDao"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Nested classes/interfaces inherited from interface fri.util.database.jpa.tree.<A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html" title="interface in fri.util.database.jpa.tree">TreeDao</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.CopiedNodeRenamer.html" title="interface in fri.util.database.jpa.tree">TreeDao.CopiedNodeRenamer</A>&lt;<A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.CopiedNodeRenamer.html" title="type parameter in TreeDao.CopiedNodeRenamer">N</A> extends <A HREF="../../../../../fri/util/database/jpa/tree/TreeNode.html" title="interface in fri.util.database.jpa.tree">TreeNode</A>&gt;</CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../fri/util/database/jpa/commons/DbSession.html" title="interface in fri.util.database.jpa.commons">DbSession</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#session">session</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_fri.util.database.jpa.tree.TreeDao"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface fri.util.database.jpa.tree.<A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html" title="interface in fri.util.database.jpa.tree">TreeDao</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#UNDEFINED_POSITION">UNDEFINED_POSITION</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#AbstractTreeDao(fri.util.database.jpa.commons.DbSession, java.lang.String)">AbstractTreeDao</A></B>(<A HREF="../../../../../fri/util/database/jpa/commons/DbSession.html" title="interface in fri.util.database.jpa.commons">DbSession</A>&nbsp;session,
                java.lang.String&nbsp;nodeEntityName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#appendInvalidityCondition(java.lang.String, java.lang.StringBuilder, java.util.List)">appendInvalidityCondition</A></B>(java.lang.String&nbsp;tableAlias,
                          java.lang.StringBuilder&nbsp;queryText,
                          java.util.List&lt;java.lang.Object&gt;&nbsp;parameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Temporal extension.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#appendValidityCondition(java.lang.String, java.lang.StringBuilder, java.util.List)">appendValidityCondition</A></B>(java.lang.String&nbsp;tableAlias,
                        java.lang.StringBuilder&nbsp;queryText,
                        java.util.List&lt;java.lang.Object&gt;&nbsp;parameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Temporal extension.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#applyCopiedNodeRenamer(N)">applyCopiedNodeRenamer</A></B>(<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;node)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Applies the currently set CopiedNodeRenamer if one was set.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#assertUpdate(N)">assertUpdate</A></B>(<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;node)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Throws IllegalArgumentException when node is not persistent, because then it is not an UPDATE.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#beforeFindQuery(java.lang.String, java.lang.StringBuilder, java.util.List, boolean, boolean, boolean)">beforeFindQuery</A></B>(java.lang.String&nbsp;tableAlias,
                java.lang.StringBuilder&nbsp;queryText,
                java.util.List&lt;java.lang.Object&gt;&nbsp;parameters,
                boolean&nbsp;whereWasAppended,
                boolean&nbsp;doNotApplyTemporalConditions,
                boolean&nbsp;invertTemporalConditions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Temporal extension.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#buildAliasedPropertyName(java.lang.String, java.lang.String)">buildAliasedPropertyName</A></B>(java.lang.String&nbsp;tableAlias,
                         java.lang.String&nbsp;propertyName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#buildIndexedPlaceHolder(java.util.List)">buildIndexedPlaceHolder</A></B>(java.util.List&lt;java.lang.Object&gt;&nbsp;parameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#checkUniqueConstraint(N, N, N)">checkUniqueConstraint</A></B>(<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;cloneOfExistingNodeWithNewValues,
                      <A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;root,
                      <A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;existingNode)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks unique constraint(s) for passed entity before an update of unique properties.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#checkUniqueness(java.util.List, fri.util.database.jpa.tree.util.TreeActionLocation)">checkUniqueness</A></B>(java.util.List&lt;<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&gt;&nbsp;nodes,
                <A HREF="../../../../../fri/util/database/jpa/tree/util/TreeActionLocation.html" title="class in fri.util.database.jpa.tree.util">TreeActionLocation</A>&lt;<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&gt;&nbsp;location)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Utility method that calls the  implementation when one was defined.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#copyOrMovePreconditions(N, N)">copyOrMovePreconditions</A></B>(<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;relativeNode,
                        <A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;nodeToMove)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Throws IllegalArgumentException when copy or move could not performed, checks if tree would be copied/moved into itself.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#equal(N, N)">equal</A></B>(<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;n1,
      <A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;n2)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Decides if two nodes are equal.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../fri/util/database/jpa/tree/uniqueconstraints/UniqueTreeConstraint.html" title="interface in fri.util.database.jpa.tree.uniqueconstraints">UniqueTreeConstraint</A>&lt;<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#getUniqueTreeConstraint()">getUniqueTreeConstraint</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#getValidFromPropertyName()">getValidFromPropertyName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Temporal extension.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#getValidToPropertyName()">getValidToPropertyName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Temporal extension.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#isPersistent(N)">isPersistent</A></B>(<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;entity)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#isValid(fri.util.database.jpa.tree.Temporal, java.util.Date)">isValid</A></B>(<A HREF="../../../../../fri/util/database/jpa/tree/Temporal.html" title="interface in fri.util.database.jpa.tree">Temporal</A>&nbsp;node,
        java.util.Date&nbsp;validityDate)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Temporal extension.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#nodeEntityName()">nodeEntityName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#pathEntityName()">pathEntityName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#refresh(java.util.List)">refresh</A></B>(java.util.List&lt;?&gt;&nbsp;nodesToRefresh)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updates nodes from database, overwriting pending local changes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#save(N)">save</A></B>(<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;node)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Saves the given node to session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#setCheckUniqueConstraintOnUpdate(boolean)">setCheckUniqueConstraintOnUpdate</A></B>(boolean&nbsp;checkUniqueConstraintOnUpdate)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setting this to true will call unique constraint(s) even on <code>update()</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#setCopiedNodeRenamer(fri.util.database.jpa.tree.TreeDao.CopiedNodeRenamer)">setCopiedNodeRenamer</A></B>(<A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.CopiedNodeRenamer.html" title="interface in fri.util.database.jpa.tree">TreeDao.CopiedNodeRenamer</A>&lt;<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&gt;&nbsp;copiedNodeRenamer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets a CopiedNodeRenamer for copy actions in trees guarded by unique constraint(s).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#setUniqueTreeConstraint(fri.util.database.jpa.tree.uniqueconstraints.UniqueTreeConstraint)">setUniqueTreeConstraint</A></B>(<A HREF="../../../../../fri/util/database/jpa/tree/uniqueconstraints/UniqueTreeConstraint.html" title="interface in fri.util.database.jpa.tree.uniqueconstraints">UniqueTreeConstraint</A>&lt;<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&gt;&nbsp;uniqueTreeConstraint)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Optionally lets set unique constraint(s).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#shouldCheckUniqueConstraintOnUpdate()">shouldCheckUniqueConstraintOnUpdate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Date</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#validFrom()">validFrom</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Temporal extension.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Date</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#validTo()">validTo</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Temporal extension.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Date</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html#validToOnRemove()">validToOnRemove</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Temporal extension.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_fri.util.database.jpa.tree.TreeDao"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from interface fri.util.database.jpa.tree.<A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html" title="interface in fri.util.database.jpa.tree">TreeDao</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#addChild(N, N)">addChild</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#addChildAt(N, N, int)">addChildAt</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#addChildBefore(N, N)">addChildBefore</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#copy(N, N, N)">copy</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#copyBefore(N, N, N)">copyBefore</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#copyTo(N, N, int, N)">copyTo</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#copyToBeRoot(N, N)">copyToBeRoot</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#createRoot(N)">createRoot</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#find(N, java.util.Map)">find</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#find(java.io.Serializable)">find</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#findDirectChildren(java.util.List)">findDirectChildren</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#findSubTree(N, java.util.List)">findSubTree</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#getChildCount(N)">getChildCount</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#getChildren(N)">getChildren</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#getLevel(N)">getLevel</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#getParent(N)">getParent</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#getPath(N)">getPath</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#getRoot(N)">getRoot</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#getRoots()">getRoots</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#getTree(N)">getTree</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#getTreeCacheable(N)">getTreeCacheable</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#isChildOf(N, N)">isChildOf</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#isEqualToOrChildOf(N, N)">isEqualToOrChildOf</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#isLeaf(N)">isLeaf</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#isRoot(N)">isRoot</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#move(N, N)">move</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#moveBefore(N, N)">moveBefore</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#moveTo(N, N, int)">moveTo</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#moveToBeRoot(N)">moveToBeRoot</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#remove(N)">remove</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#removeAll()">removeAll</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#size(N)">size</A>, <A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#update(N)">update</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="session"><!-- --></A><H3>
session</H3>
<PRE>
protected final <A HREF="../../../../../fri/util/database/jpa/commons/DbSession.html" title="interface in fri.util.database.jpa.commons">DbSession</A> <B>session</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="AbstractTreeDao(fri.util.database.jpa.commons.DbSession, java.lang.String)"><!-- --></A><H3>
AbstractTreeDao</H3>
<PRE>
protected <B>AbstractTreeDao</B>(<A HREF="../../../../../fri/util/database/jpa/commons/DbSession.html" title="interface in fri.util.database.jpa.commons">DbSession</A>&nbsp;session,
                          java.lang.String&nbsp;nodeEntityName)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="isPersistent(fri.util.database.jpa.tree.TreeNode)"><!-- --></A><A NAME="isPersistent(N)"><!-- --></A><H3>
isPersistent</H3>
<PRE>
public boolean <B>isPersistent</B>(<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;entity)</PRE>
<DL>
<DD>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#isPersistent(N)">isPersistent</A></CODE> in interface <CODE><A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html" title="interface in fri.util.database.jpa.tree">TreeDao</A>&lt;<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A> extends <A HREF="../../../../../fri/util/database/jpa/tree/TreeNode.html" title="interface in fri.util.database.jpa.tree">TreeNode</A>&gt;</CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true if passed entity is already persistent, i.e. its getId() is not null.</DL>
</DD>
</DL>
<HR>

<A NAME="save(fri.util.database.jpa.tree.TreeNode)"><!-- --></A><A NAME="save(N)"><!-- --></A><H3>
save</H3>
<PRE>
protected java.lang.Object <B>save</B>(<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;node)</PRE>
<DL>
<DD>Saves the given node to session. To be overridden for additional actions on save.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="equal(fri.util.database.jpa.tree.TreeNode,fri.util.database.jpa.tree.TreeNode)"><!-- --></A><A NAME="equal(N, N)"><!-- --></A><H3>
equal</H3>
<PRE>
public boolean <B>equal</B>(<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;n1,
                     <A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;n2)</PRE>
<DL>
<DD>Decides if two nodes are equal. Used by all implementations.
 Can handle nulls, returns true if n1 == n2. To be overridden.
 Is public to be reused also from <code>UniqueTreeConstraint</code> implementations.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setUniqueTreeConstraint(fri.util.database.jpa.tree.uniqueconstraints.UniqueTreeConstraint)"><!-- --></A><H3>
setUniqueTreeConstraint</H3>
<PRE>
public void <B>setUniqueTreeConstraint</B>(<A HREF="../../../../../fri/util/database/jpa/tree/uniqueconstraints/UniqueTreeConstraint.html" title="interface in fri.util.database.jpa.tree.uniqueconstraints">UniqueTreeConstraint</A>&lt;<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&gt;&nbsp;uniqueTreeConstraint)</PRE>
<DL>
<DD>Optionally lets set unique constraint(s).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#setUniqueTreeConstraint(fri.util.database.jpa.tree.uniqueconstraints.UniqueTreeConstraint)">setUniqueTreeConstraint</A></CODE> in interface <CODE><A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html" title="interface in fri.util.database.jpa.tree">TreeDao</A>&lt;<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A> extends <A HREF="../../../../../fri/util/database/jpa/tree/TreeNode.html" title="interface in fri.util.database.jpa.tree">TreeNode</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>uniqueTreeConstraint</CODE> - the constraint checker implementation, or null to switch off checking.</DL>
</DD>
</DL>
<HR>

<A NAME="setCheckUniqueConstraintOnUpdate(boolean)"><!-- --></A><H3>
setCheckUniqueConstraintOnUpdate</H3>
<PRE>
public void <B>setCheckUniqueConstraintOnUpdate</B>(boolean&nbsp;checkUniqueConstraintOnUpdate)</PRE>
<DL>
<DD>Setting this to true will call unique constraint(s) even on <code>update()</code>.
 Default is false, because it is assumed that caller itself does a check
 by calling <code>dao.checkUniqueConstraint()</code> before updating.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#setCheckUniqueConstraintOnUpdate(boolean)">setCheckUniqueConstraintOnUpdate</A></CODE> in interface <CODE><A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html" title="interface in fri.util.database.jpa.tree">TreeDao</A>&lt;<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A> extends <A HREF="../../../../../fri/util/database/jpa/tree/TreeNode.html" title="interface in fri.util.database.jpa.tree">TreeNode</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>checkUniqueConstraintOnUpdate</CODE> - the behavior to be set.</DL>
</DD>
</DL>
<HR>

<A NAME="shouldCheckUniqueConstraintOnUpdate()"><!-- --></A><H3>
shouldCheckUniqueConstraintOnUpdate</H3>
<PRE>
protected final boolean <B>shouldCheckUniqueConstraintOnUpdate</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true when unique constraint should be checked on UPDATE,
                default false, as callers should check explicitly this by
                calling checkUniqueConstraint().</DL>
</DD>
</DL>
<HR>

<A NAME="getUniqueTreeConstraint()"><!-- --></A><H3>
getUniqueTreeConstraint</H3>
<PRE>
protected final <A HREF="../../../../../fri/util/database/jpa/tree/uniqueconstraints/UniqueTreeConstraint.html" title="interface in fri.util.database.jpa.tree.uniqueconstraints">UniqueTreeConstraint</A>&lt;<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&gt; <B>getUniqueTreeConstraint</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the optional unique constraint implementation.</DL>
</DD>
</DL>
<HR>

<A NAME="checkUniqueConstraint(fri.util.database.jpa.tree.TreeNode,fri.util.database.jpa.tree.TreeNode,fri.util.database.jpa.tree.TreeNode)"><!-- --></A><A NAME="checkUniqueConstraint(N, N, N)"><!-- --></A><H3>
checkUniqueConstraint</H3>
<PRE>
public void <B>checkUniqueConstraint</B>(<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;cloneOfExistingNodeWithNewValues,
                                  <A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;root,
                                  <A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;existingNode)
                           throws <A HREF="../../../../../fri/util/database/jpa/tree/uniqueconstraints/UniqueConstraintViolationException.html" title="class in fri.util.database.jpa.tree.uniqueconstraints">UniqueConstraintViolationException</A></PRE>
<DL>
<DD>Checks unique constraint(s) for passed entity before an update of unique properties.
 Assuming that there is a unique property <code>name</code> in entity, this method MUST be
 called BEFORE <code>entity.setName(name)</code> is called, else entity will get dirty and
 will be flushed by the JPA layer before the constraint checking query can be launched.
 For that purpose you must create a clone (template) of the node pending to be updated,
 and set the new value of the property into the clone.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#checkUniqueConstraint(N, N, N)">checkUniqueConstraint</A></CODE> in interface <CODE><A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html" title="interface in fri.util.database.jpa.tree">TreeDao</A>&lt;<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A> extends <A HREF="../../../../../fri/util/database/jpa/tree/TreeNode.html" title="interface in fri.util.database.jpa.tree">TreeNode</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>cloneOfExistingNodeWithNewValues</CODE> - non-persistent clone of the entity to be checked,
                containing at least the properties the constraint will check.<DD><CODE>root</CODE> - the root where insert or update will happen, null when node is (or will be) be a root.<DD><CODE>existingNode</CODE> - the original node to be inserted or updated, null when node is not yet persistent.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../fri/util/database/jpa/tree/uniqueconstraints/UniqueConstraintViolationException.html" title="class in fri.util.database.jpa.tree.uniqueconstraints">UniqueConstraintViolationException</A></CODE> - when uniqueness would be violated.</DL>
</DD>
</DL>
<HR>

<A NAME="checkUniqueness(java.util.List, fri.util.database.jpa.tree.util.TreeActionLocation)"><!-- --></A><H3>
checkUniqueness</H3>
<PRE>
protected void <B>checkUniqueness</B>(java.util.List&lt;<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&gt;&nbsp;nodes,
                               <A HREF="../../../../../fri/util/database/jpa/tree/util/TreeActionLocation.html" title="class in fri.util.database.jpa.tree.util">TreeActionLocation</A>&lt;<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&gt;&nbsp;location)
                        throws <A HREF="../../../../../fri/util/database/jpa/tree/uniqueconstraints/UniqueConstraintViolationException.html" title="class in fri.util.database.jpa.tree.uniqueconstraints">UniqueConstraintViolationException</A></PRE>
<DL>
<DD>Utility method that calls the  implementation when one was defined.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>nodes</CODE> - one or several nodes to insert or update. Updates should be tested with a clone, else JPA object would get dirty.<DD><CODE>root</CODE> - the root of the tree where to check, can be null for a uniqueness check among roots.<DD><CODE>originalNode</CODE> - the node to be updated, must be null for a new node to be inserted.<DD><CODE>modificationLocation</CODE> - insert/update location information, implementation-specific.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../fri/util/database/jpa/tree/uniqueconstraints/UniqueConstraintViolationException.html" title="class in fri.util.database.jpa.tree.uniqueconstraints">UniqueConstraintViolationException</A></CODE> - when constraint would be violated.</DL>
</DD>
</DL>
<HR>

<A NAME="setCopiedNodeRenamer(fri.util.database.jpa.tree.TreeDao.CopiedNodeRenamer)"><!-- --></A><H3>
setCopiedNodeRenamer</H3>
<PRE>
public void <B>setCopiedNodeRenamer</B>(<A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.CopiedNodeRenamer.html" title="interface in fri.util.database.jpa.tree">TreeDao.CopiedNodeRenamer</A>&lt;<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&gt;&nbsp;copiedNodeRenamer)</PRE>
<DL>
<DD>Sets a CopiedNodeRenamer for copy actions in trees guarded by unique constraint(s).
 Mind that, once set, this will edit every following copy-action!
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html#setCopiedNodeRenamer(fri.util.database.jpa.tree.TreeDao.CopiedNodeRenamer)">setCopiedNodeRenamer</A></CODE> in interface <CODE><A HREF="../../../../../fri/util/database/jpa/tree/TreeDao.html" title="interface in fri.util.database.jpa.tree">TreeDao</A>&lt;<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A> extends <A HREF="../../../../../fri/util/database/jpa/tree/TreeNode.html" title="interface in fri.util.database.jpa.tree">TreeNode</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>copiedNodeRenamer</CODE> - the editor to be applied for following copy action, can be null.</DL>
</DD>
</DL>
<HR>

<A NAME="applyCopiedNodeRenamer(fri.util.database.jpa.tree.TreeNode)"><!-- --></A><A NAME="applyCopiedNodeRenamer(N)"><!-- --></A><H3>
applyCopiedNodeRenamer</H3>
<PRE>
protected final void <B>applyCopiedNodeRenamer</B>(<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;node)</PRE>
<DL>
<DD>Applies the currently set CopiedNodeRenamer if one was set.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="nodeEntityName()"><!-- --></A><H3>
nodeEntityName</H3>
<PRE>
protected final java.lang.String <B>nodeEntityName</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the name of the JPQL node entity.</DL>
</DD>
</DL>
<HR>

<A NAME="pathEntityName()"><!-- --></A><H3>
pathEntityName</H3>
<PRE>
protected java.lang.String <B>pathEntityName</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the name of the JPQL path entity, needed only in closure-table. Returns null, to be overridden.</DL>
</DD>
</DL>
<HR>

<A NAME="assertUpdate(fri.util.database.jpa.tree.TreeNode)"><!-- --></A><A NAME="assertUpdate(N)"><!-- --></A><H3>
assertUpdate</H3>
<PRE>
protected void <B>assertUpdate</B>(<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;node)</PRE>
<DL>
<DD>Throws IllegalArgumentException when node is not persistent, because then it is not an UPDATE.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="copyOrMovePreconditions(fri.util.database.jpa.tree.TreeNode,fri.util.database.jpa.tree.TreeNode)"><!-- --></A><A NAME="copyOrMovePreconditions(N, N)"><!-- --></A><H3>
copyOrMovePreconditions</H3>
<PRE>
protected void <B>copyOrMovePreconditions</B>(<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;relativeNode,
                                       <A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeDao.html" title="type parameter in AbstractTreeDao">N</A>&nbsp;nodeToMove)</PRE>
<DL>
<DD>Throws IllegalArgumentException when copy or move could not performed, checks if tree would be copied/moved into itself.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="refresh(java.util.List)"><!-- --></A><H3>
refresh</H3>
<PRE>
protected void <B>refresh</B>(java.util.List&lt;?&gt;&nbsp;nodesToRefresh)</PRE>
<DL>
<DD>Updates nodes from database, overwriting pending local changes.
 Needed only when several TreeDao calls happen in same session.
 Override this to do nothing when your session is closed or cleared
 after any TreeDao call, this will save performance.
 <p/>
 This is to be called for all nodes affected by an SQL or JPQL update statement.
 This method performs a flush() before refresh() to avoid inconsistencies.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="beforeFindQuery(java.lang.String, java.lang.StringBuilder, java.util.List, boolean, boolean, boolean)"><!-- --></A><H3>
beforeFindQuery</H3>
<PRE>
protected final void <B>beforeFindQuery</B>(java.lang.String&nbsp;tableAlias,
                                     java.lang.StringBuilder&nbsp;queryText,
                                     java.util.List&lt;java.lang.Object&gt;&nbsp;parameters,
                                     boolean&nbsp;whereWasAppended,
                                     boolean&nbsp;doNotApplyTemporalConditions,
                                     boolean&nbsp;invertTemporalConditions)</PRE>
<DL>
<DD>Temporal extension. Shared code. Called when querying valid nodes.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="appendValidityCondition(java.lang.String, java.lang.StringBuilder, java.util.List)"><!-- --></A><H3>
appendValidityCondition</H3>
<PRE>
public void <B>appendValidityCondition</B>(java.lang.String&nbsp;tableAlias,
                                    java.lang.StringBuilder&nbsp;queryText,
                                    java.util.List&lt;java.lang.Object&gt;&nbsp;parameters)</PRE>
<DL>
<DD>Temporal extension. Called when querying valid nodes.
 Appends the (temporal) validity check condition to passed JPQL statement.
 The appended text must NOT start or end with "AND".
 Override this to use other validity checks than valid-from and valid-to properties.
 This is public to be reused by <code>UniqueTemporalTreeConstraint</code> implementations.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tableAlias</CODE> - the alias of the table containing the <i>validTo</i> property, without trailing dot, could be null.<DD><CODE>queryText</CODE> - the pending JPQL query text looking for valid nodes.<DD><CODE>parameters</CODE> - the positional arguments for the pending query.</DL>
</DD>
</DL>
<HR>

<A NAME="appendInvalidityCondition(java.lang.String, java.lang.StringBuilder, java.util.List)"><!-- --></A><H3>
appendInvalidityCondition</H3>
<PRE>
protected void <B>appendInvalidityCondition</B>(java.lang.String&nbsp;tableAlias,
                                         java.lang.StringBuilder&nbsp;queryText,
                                         java.util.List&lt;java.lang.Object&gt;&nbsp;parameters)</PRE>
<DL>
<DD>Temporal extension. Called when querying removed nodes.
 Appends the (temporal) invalidity check condition to passed JPQL statement.
 The appended text must NOT start with "and".
 Override this to use other validity checks than valid-to property.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tableAlias</CODE> - the alias of the table containing the <i>validTo</i> property, without trailing dot, could be null.<DD><CODE>queryText</CODE> - the pending JPQL query text looking for invalid nodes.<DD><CODE>parameters</CODE> - the positional arguments for the pending query.</DL>
</DD>
</DL>
<HR>

<A NAME="buildAliasedPropertyName(java.lang.String, java.lang.String)"><!-- --></A><H3>
buildAliasedPropertyName</H3>
<PRE>
protected final java.lang.String <B>buildAliasedPropertyName</B>(java.lang.String&nbsp;tableAlias,
                                                          java.lang.String&nbsp;propertyName)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>"tableAlias.propertyName" when alias is not null, else "propertyName".</DL>
</DD>
</DL>
<HR>

<A NAME="buildIndexedPlaceHolder(java.util.List)"><!-- --></A><H3>
buildIndexedPlaceHolder</H3>
<PRE>
protected final java.lang.String <B>buildIndexedPlaceHolder</B>(java.util.List&lt;java.lang.Object&gt;&nbsp;parameters)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>"?5" when parameters.size() == 4.</DL>
</DD>
</DL>
<HR>

<A NAME="validFrom()"><!-- --></A><H3>
validFrom</H3>
<PRE>
protected java.util.Date <B>validFrom</B>()</PRE>
<DL>
<DD>Temporal extension. This is called when querying. Override for specific temporal queries.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>by default <code>new Date()</code> which represents "now".</DL>
</DD>
</DL>
<HR>

<A NAME="validTo()"><!-- --></A><H3>
validTo</H3>
<PRE>
protected java.util.Date <B>validTo</B>()</PRE>
<DL>
<DD>Temporal extension. This is called when querying. Override for specific temporal queries.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>by default <code>new Date()</code> which represents "now".</DL>
</DD>
</DL>
<HR>

<A NAME="validToOnRemove()"><!-- --></A><H3>
validToOnRemove</H3>
<PRE>
protected java.util.Date <B>validToOnRemove</B>()</PRE>
<DL>
<DD>Temporal extension. This is called when historicizing a node.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>by default <code>new Date()</code> which represents "now".</DL>
</DD>
</DL>
<HR>

<A NAME="isValid(fri.util.database.jpa.tree.Temporal, java.util.Date)"><!-- --></A><H3>
isValid</H3>
<PRE>
public boolean <B>isValid</B>(<A HREF="../../../../../fri/util/database/jpa/tree/Temporal.html" title="interface in fri.util.database.jpa.tree">Temporal</A>&nbsp;node,
                       java.util.Date&nbsp;validityDate)</PRE>
<DL>
<DD>Temporal extension. This is called when deciding whether a node is valid at given date.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true when <code>node.validFrom</code> is null or before or equal to given date,
                and <code>node.validTo</code> is null or after given date.</DL>
</DD>
</DL>
<HR>

<A NAME="getValidFromPropertyName()"><!-- --></A><H3>
getValidFromPropertyName</H3>
<PRE>
protected java.lang.String <B>getValidFromPropertyName</B>()</PRE>
<DL>
<DD>Temporal extension. Override this in temporal DAOs. Throws RuntimeException.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getValidToPropertyName()"><!-- --></A><H3>
getValidToPropertyName</H3>
<PRE>
protected java.lang.String <B>getValidToPropertyName</B>()</PRE>
<DL>
<DD>Temporal extension. Override this in temporal DAOs. Throws RuntimeException.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AbstractTreeDao.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTemporalTreeTest.html" title="class in fri.util.database.jpa.tree"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../fri/util/database/jpa/tree/AbstractTreeTest.html" title="class in fri.util.database.jpa.tree"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?fri/util/database/jpa/tree/AbstractTreeDao.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AbstractTreeDao.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
